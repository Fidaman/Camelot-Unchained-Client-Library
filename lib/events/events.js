/**
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _listeners;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _classesEventEmitter = require('./classes/EventEmitter');

var _classesEventEmitter2 = _interopRequireDefault(_classesEventEmitter);

var _classesHandlesAnnouncements = require('./classes/HandlesAnnouncements');

var _classesHandlesAnnouncements2 = _interopRequireDefault(_classesHandlesAnnouncements);

var _classesHandlesChat = require('./classes/HandlesChat');

var _classesHandlesChat2 = _interopRequireDefault(_classesHandlesChat);

var _classesHandlesCharacter = require('./classes/HandlesCharacter');

var _classesHandlesCharacter2 = _interopRequireDefault(_classesHandlesCharacter);

var _classesHandlesEnemyTarget = require('./classes/HandlesEnemyTarget');

var _classesHandlesEnemyTarget2 = _interopRequireDefault(_classesHandlesEnemyTarget);

var _classesHandlesFriendlyTarget = require('./classes/HandlesFriendlyTarget');

var _classesHandlesFriendlyTarget2 = _interopRequireDefault(_classesHandlesFriendlyTarget);

var _classesHandlesControlGame = require('./classes/HandlesControlGame');

var _classesHandlesControlGame2 = _interopRequireDefault(_classesHandlesControlGame);

var _classesHandlesControlGameScore = require('./classes/HandlesControlGameScore');

var _classesHandlesControlGameScore2 = _interopRequireDefault(_classesHandlesControlGameScore);

var _classesHandlesInventory = require('./classes/HandlesInventory');

var _classesHandlesInventory2 = _interopRequireDefault(_classesHandlesInventory);

var _classesHandlesEquippedGear = require('./classes/HandlesEquippedGear');

var _classesHandlesEquippedGear2 = _interopRequireDefault(_classesHandlesEquippedGear);

var _listenersInit = require('./listeners/Init');

var _listenersInit2 = _interopRequireDefault(_listenersInit);

var _listenersAnnouncements = require('./listeners/Announcements');

var _listenersAnnouncements2 = _interopRequireDefault(_listenersAnnouncements);

var _listenersChat = require('./listeners/Chat');

var _listenersChat2 = _interopRequireDefault(_listenersChat);

var _listenersCharacter = require('./listeners/Character');

var _listenersCharacter2 = _interopRequireDefault(_listenersCharacter);

var _listenersEnemyTarget = require('./listeners/EnemyTarget');

var _listenersEnemyTarget2 = _interopRequireDefault(_listenersEnemyTarget);

var _listenersFriendlyTarget = require('./listeners/FriendlyTarget');

var _listenersFriendlyTarget2 = _interopRequireDefault(_listenersFriendlyTarget);

var _listenersControlGame = require('./listeners/ControlGame');

var _listenersControlGame2 = _interopRequireDefault(_listenersControlGame);

var _listenersControlGameScore = require('./listeners/ControlGameScore');

var _listenersControlGameScore2 = _interopRequireDefault(_listenersControlGameScore);

var _listenersInventory = require('./listeners/Inventory');

var _listenersInventory2 = _interopRequireDefault(_listenersInventory);

var _listenersEquippedGear = require('./listeners/EquippedGear');

var _listenersEquippedGear2 = _interopRequireDefault(_listenersEquippedGear);

// Handle* objects.  These define both the event name, and the Reflux action used
// to trigger the stores (TODO: This latter part is not working)
var handlesAnnouncements = new _classesHandlesAnnouncements2['default']();
var handlesChat = new _classesHandlesChat2['default']();
var handlesCharacter = new _classesHandlesCharacter2['default']();
var handlesEnemyTarget = new _classesHandlesEnemyTarget2['default']();
var handlesFriendlyTarget = new _classesHandlesFriendlyTarget2['default']();
var handlesControlGame = new _classesHandlesControlGame2['default']();
var handlesControlGameScore = new _classesHandlesControlGameScore2['default']();
var handlesInventory = new _classesHandlesInventory2['default']();
var handlesEquippedGear = new _classesHandlesEquippedGear2['default']();
// Listeners
var listeners = (_listeners = {
    'init': new _listenersInit2['default']()
}, _defineProperty(_listeners, handlesAnnouncements.topic, new _listenersAnnouncements2['default'](handlesAnnouncements)), _defineProperty(_listeners, handlesChat.topic, new _listenersChat2['default'](handlesChat)), _defineProperty(_listeners, handlesCharacter.topic, new _listenersCharacter2['default'](handlesCharacter)), _defineProperty(_listeners, handlesEnemyTarget.topic, new _listenersEnemyTarget2['default'](handlesEnemyTarget)), _defineProperty(_listeners, handlesFriendlyTarget.topic, new _listenersFriendlyTarget2['default'](handlesFriendlyTarget)), _defineProperty(_listeners, handlesControlGame.topic, new _listenersControlGame2['default'](handlesControlGame)), _defineProperty(_listeners, handlesControlGameScore.topic, new _listenersControlGameScore2['default'](handlesControlGameScore)), _defineProperty(_listeners, handlesInventory.topic, new _listenersInventory2['default'](handlesInventory)), _defineProperty(_listeners, handlesEquippedGear.topic, new _listenersEquippedGear2['default'](handlesEquippedGear)), _listeners);
// Event Emitter.  A single instance of event emitter handles all cu-events events
var emitter = new _classesEventEmitter2['default']();
// register for an event group
function on(topic, callback) {
    var listener = listeners[topic];
    if (listener) {
        var handle = emitter.addListener(topic, listener.once, callback);
        // Start the listener.  The start() method will handle multiple
        // starts.  In some cases, the listener does need kickstarting
        // each time, in other cases, not.
        listener.start(emitter);
        return handle;
    }
}
function off(listener) {
    emitter.removeListener(listener);
}
function addListener(topic, callback) {
    on(topic, callback);
}
function removeListener(listener) {
    off(listener);
}
exports['default'] = {
    handlesAnnouncements: handlesAnnouncements,
    handlesChat: handlesChat,
    handlesCharacter: handlesCharacter,
    handlesEnemyTarget: handlesEnemyTarget,
    handlesFriendlyTarget: handlesFriendlyTarget,
    handlesControlGame: handlesControlGame,
    handlesControlGameScore: handlesControlGameScore,
    handlesInventory: handlesInventory,
    handlesEquippedGear: handlesEquippedGear,
    on: on,
    off: off,
    addListener: addListener,
    removeListener: removeListener
};
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy9ldmVudHMudHMiXSwibmFtZXMiOlsib24iLCJvZmYiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OzttQ0FNeUIsd0JBQXdCOzs7OzJDQUVoQixnQ0FBZ0M7Ozs7a0NBQ3pDLHVCQUF1Qjs7Ozt1Q0FDbEIsNEJBQTRCOzs7O3lDQUMxQiw4QkFBOEI7Ozs7NENBQzNCLGlDQUFpQzs7Ozt5Q0FDcEMsOEJBQThCOzs7OzhDQUN6QixtQ0FBbUM7Ozs7dUNBQzFDLDRCQUE0Qjs7OzswQ0FDekIsK0JBQStCOzs7OzZCQUV0QyxrQkFBa0I7Ozs7c0NBQ1QsMkJBQTJCOzs7OzZCQUNwQyxrQkFBa0I7Ozs7a0NBQ2IsdUJBQXVCOzs7O29DQUNyQix5QkFBeUI7Ozs7dUNBQ3RCLDRCQUE0Qjs7OztvQ0FDL0IseUJBQXlCOzs7O3lDQUNwQiw4QkFBOEI7Ozs7a0NBQ3JDLHVCQUF1Qjs7OztxQ0FDcEIsMEJBQTBCOzs7Ozs7QUFJM0QsSUFBTSxvQkFBb0IsR0FBeUIsOENBQTBCLENBQUM7QUFDOUUsSUFBTSxXQUFXLEdBQWdCLHFDQUFpQixDQUFDO0FBQ25ELElBQU0sZ0JBQWdCLEdBQXFCLDBDQUFzQixDQUFDO0FBQ2xFLElBQU0sa0JBQWtCLEdBQXVCLDRDQUF3QixDQUFDO0FBQ3hFLElBQU0scUJBQXFCLEdBQTBCLCtDQUEyQixDQUFDO0FBQ2pGLElBQU0sa0JBQWtCLEdBQXVCLDRDQUF3QixDQUFDO0FBQ3hFLElBQU0sdUJBQXVCLEdBQTRCLGlEQUE2QixDQUFDO0FBQ3ZGLElBQU0sZ0JBQWdCLEdBQXFCLDBDQUFzQixDQUFDO0FBQ2xFLElBQU0sbUJBQW1CLEdBQXdCLDZDQUF5QixDQUFDOztBQUczRSxJQUFNLFNBQVM7QUFDYixVQUFNLEVBQUUsZ0NBQWtCOytCQUN6QixvQkFBb0IsQ0FBQyxLQUFLLEVBQUcsd0NBQTBCLG9CQUFvQixDQUFDLCtCQUM1RSxXQUFXLENBQUMsS0FBSyxFQUFHLCtCQUFpQixXQUFXLENBQUMsK0JBQ2pELGdCQUFnQixDQUFDLEtBQUssRUFBRyxvQ0FBc0IsZ0JBQWdCLENBQUMsK0JBQ2hFLGtCQUFrQixDQUFDLEtBQUssRUFBRyxzQ0FBd0Isa0JBQWtCLENBQUMsK0JBQ3RFLHFCQUFxQixDQUFDLEtBQUssRUFBRyx5Q0FBMkIscUJBQXFCLENBQUMsK0JBQy9FLGtCQUFrQixDQUFDLEtBQUssRUFBRyxzQ0FBd0Isa0JBQWtCLENBQUMsK0JBQ3RFLHVCQUF1QixDQUFDLEtBQUssRUFBRywyQ0FBNkIsdUJBQXVCLENBQUMsK0JBQ3JGLGdCQUFnQixDQUFDLEtBQUssRUFBRyxvQ0FBc0IsZ0JBQWdCLENBQUMsK0JBQ2hFLG1CQUFtQixDQUFDLEtBQUssRUFBRyx1Q0FBeUIsbUJBQW1CLENBQUMsY0FDM0UsQ0FBQzs7QUFHRixJQUFNLE9BQU8sR0FBaUIsc0NBQWtCLENBQUM7O0FBR2pELFNBQUEsRUFBQSxDQUFZLEtBQWEsRUFBRSxRQUE2QixFQUFBO0FBQ3REQSxRQUFNQSxRQUFRQSxHQUFHQSxTQUFTQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtBQUNsQ0EsUUFBSUEsUUFBUUEsRUFBRUE7QUFDWkEsWUFBTUEsTUFBTUEsR0FBR0EsT0FBT0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsS0FBS0EsRUFBRUEsUUFBUUEsQ0FBQ0EsSUFBSUEsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Ozs7QUFJbkVBLGdCQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtBQUN4QkEsZUFBT0EsTUFBTUEsQ0FBQ0E7S0FDZkE7Q0FDRkE7QUFFRCxTQUFBLEdBQUEsQ0FBYSxRQUFhLEVBQUE7QUFDeEJDLFdBQU9BLENBQUNBLGNBQWNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO0NBQ2xDQTtBQUVELFNBQUEsV0FBQSxDQUFxQixLQUFhLEVBQUUsUUFBNkIsRUFBQTtBQUMvREMsTUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Q0FDckJBO0FBRUQsU0FBQSxjQUFBLENBQXdCLFFBQWEsRUFBQTtBQUNuQ0MsT0FBR0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Q0FDZkE7cUJBRWM7QUFDYix3QkFBb0IsRUFBcEIsb0JBQW9CO0FBQ3BCLGVBQVcsRUFBWCxXQUFXO0FBQ1gsb0JBQWdCLEVBQWhCLGdCQUFnQjtBQUNoQixzQkFBa0IsRUFBbEIsa0JBQWtCO0FBQ2xCLHlCQUFxQixFQUFyQixxQkFBcUI7QUFDckIsc0JBQWtCLEVBQWxCLGtCQUFrQjtBQUNsQiwyQkFBdUIsRUFBdkIsdUJBQXVCO0FBQ3ZCLG9CQUFnQixFQUFoQixnQkFBZ0I7QUFDaEIsdUJBQW1CLEVBQW5CLG1CQUFtQjtBQUNuQixNQUFFLEVBQUYsRUFBRTtBQUNGLE9BQUcsRUFBSCxHQUFHO0FBQ0gsZUFBVyxFQUFYLFdBQVc7QUFDWCxrQkFBYyxFQUFkLGNBQWM7Q0FDZiIsImZpbGUiOiJldmVudHMvZXZlbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi9jbGFzc2VzL0V2ZW50RW1pdHRlcic7XG5cbmltcG9ydCBIYW5kbGVzQW5ub3VuY2VtZW50cyBmcm9tICcuL2NsYXNzZXMvSGFuZGxlc0Fubm91bmNlbWVudHMnO1xuaW1wb3J0IEhhbmRsZXNDaGF0IGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzQ2hhdCc7XG5pbXBvcnQgSGFuZGxlc0NoYXJhY3RlciBmcm9tICcuL2NsYXNzZXMvSGFuZGxlc0NoYXJhY3Rlcic7XG5pbXBvcnQgSGFuZGxlc0VuZW15VGFyZ2V0IGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzRW5lbXlUYXJnZXQnO1xuaW1wb3J0IEhhbmRsZXNGcmllbmRseVRhcmdldCBmcm9tICcuL2NsYXNzZXMvSGFuZGxlc0ZyaWVuZGx5VGFyZ2V0JztcbmltcG9ydCBIYW5kbGVzQ29udHJvbEdhbWUgZnJvbSAnLi9jbGFzc2VzL0hhbmRsZXNDb250cm9sR2FtZSc7XG5pbXBvcnQgSGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUgZnJvbSAnLi9jbGFzc2VzL0hhbmRsZXNDb250cm9sR2FtZVNjb3JlJztcbmltcG9ydCBIYW5kbGVzSW52ZW50b3J5IGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzSW52ZW50b3J5JztcbmltcG9ydCBIYW5kbGVzRXF1aXBwZWRHZWFyIGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzRXF1aXBwZWRHZWFyJztcblxuaW1wb3J0IEluaXRMaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVycy9Jbml0JztcbmltcG9ydCBBbm5vdW5jZW1lbnRzTGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvQW5ub3VuY2VtZW50cyc7XG5pbXBvcnQgQ2hhdExpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXJzL0NoYXQnO1xuaW1wb3J0IENoYXJhY3Rlckxpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXJzL0NoYXJhY3Rlcic7XG5pbXBvcnQgRW5lbXlUYXJnZXRMaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVycy9FbmVteVRhcmdldCc7XG5pbXBvcnQgRnJpZW5kbHlUYXJnZXRMaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVycy9GcmllbmRseVRhcmdldCc7XG5pbXBvcnQgQ29udHJvbEdhbWVMaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVycy9Db250cm9sR2FtZSc7XG5pbXBvcnQgQ29udHJvbEdhbWVTY29yZUxpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXJzL0NvbnRyb2xHYW1lU2NvcmUnO1xuaW1wb3J0IEludmVudG9yeUxpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXJzL0ludmVudG9yeSc7XG5pbXBvcnQgRXF1aXBwZWRHZWFyTGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvRXF1aXBwZWRHZWFyJztcblxuLy8gSGFuZGxlKiBvYmplY3RzLiAgVGhlc2UgZGVmaW5lIGJvdGggdGhlIGV2ZW50IG5hbWUsIGFuZCB0aGUgUmVmbHV4IGFjdGlvbiB1c2VkXG4vLyB0byB0cmlnZ2VyIHRoZSBzdG9yZXMgKFRPRE86IFRoaXMgbGF0dGVyIHBhcnQgaXMgbm90IHdvcmtpbmcpXG5jb25zdCBoYW5kbGVzQW5ub3VuY2VtZW50czogSGFuZGxlc0Fubm91bmNlbWVudHMgPSBuZXcgSGFuZGxlc0Fubm91bmNlbWVudHMoKTtcbmNvbnN0IGhhbmRsZXNDaGF0OiBIYW5kbGVzQ2hhdCA9IG5ldyBIYW5kbGVzQ2hhdCgpO1xuY29uc3QgaGFuZGxlc0NoYXJhY3RlcjogSGFuZGxlc0NoYXJhY3RlciA9IG5ldyBIYW5kbGVzQ2hhcmFjdGVyKCk7XG5jb25zdCBoYW5kbGVzRW5lbXlUYXJnZXQ6IEhhbmRsZXNFbmVteVRhcmdldCA9IG5ldyBIYW5kbGVzRW5lbXlUYXJnZXQoKTtcbmNvbnN0IGhhbmRsZXNGcmllbmRseVRhcmdldDogSGFuZGxlc0ZyaWVuZGx5VGFyZ2V0ID0gbmV3IEhhbmRsZXNGcmllbmRseVRhcmdldCgpO1xuY29uc3QgaGFuZGxlc0NvbnRyb2xHYW1lOiBIYW5kbGVzQ29udHJvbEdhbWUgPSBuZXcgSGFuZGxlc0NvbnRyb2xHYW1lKCk7XG5jb25zdCBoYW5kbGVzQ29udHJvbEdhbWVTY29yZTogSGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUgPSBuZXcgSGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUoKTtcbmNvbnN0IGhhbmRsZXNJbnZlbnRvcnk6IEhhbmRsZXNJbnZlbnRvcnkgPSBuZXcgSGFuZGxlc0ludmVudG9yeSgpO1xuY29uc3QgaGFuZGxlc0VxdWlwcGVkR2VhcjogSGFuZGxlc0VxdWlwcGVkR2VhciA9IG5ldyBIYW5kbGVzRXF1aXBwZWRHZWFyKCk7XG5cbi8vIExpc3RlbmVyc1xuY29uc3QgbGlzdGVuZXJzOiBhbnkgPSB7XG4gICdpbml0JzogbmV3IEluaXRMaXN0ZW5lcigpLFxuICBbaGFuZGxlc0Fubm91bmNlbWVudHMudG9waWNdOiBuZXcgQW5ub3VuY2VtZW50c0xpc3RlbmVyKGhhbmRsZXNBbm5vdW5jZW1lbnRzKSxcbiAgW2hhbmRsZXNDaGF0LnRvcGljXTogbmV3IENoYXRMaXN0ZW5lcihoYW5kbGVzQ2hhdCksXG4gIFtoYW5kbGVzQ2hhcmFjdGVyLnRvcGljXTogbmV3IENoYXJhY3Rlckxpc3RlbmVyKGhhbmRsZXNDaGFyYWN0ZXIpLFxuICBbaGFuZGxlc0VuZW15VGFyZ2V0LnRvcGljXTogbmV3IEVuZW15VGFyZ2V0TGlzdGVuZXIoaGFuZGxlc0VuZW15VGFyZ2V0KSxcbiAgW2hhbmRsZXNGcmllbmRseVRhcmdldC50b3BpY106IG5ldyBGcmllbmRseVRhcmdldExpc3RlbmVyKGhhbmRsZXNGcmllbmRseVRhcmdldCksXG4gIFtoYW5kbGVzQ29udHJvbEdhbWUudG9waWNdOiBuZXcgQ29udHJvbEdhbWVMaXN0ZW5lcihoYW5kbGVzQ29udHJvbEdhbWUpLFxuICBbaGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUudG9waWNdOiBuZXcgQ29udHJvbEdhbWVTY29yZUxpc3RlbmVyKGhhbmRsZXNDb250cm9sR2FtZVNjb3JlKSxcbiAgW2hhbmRsZXNJbnZlbnRvcnkudG9waWNdOiBuZXcgSW52ZW50b3J5TGlzdGVuZXIoaGFuZGxlc0ludmVudG9yeSksXG4gIFtoYW5kbGVzRXF1aXBwZWRHZWFyLnRvcGljXTogbmV3IEVxdWlwcGVkR2Vhckxpc3RlbmVyKGhhbmRsZXNFcXVpcHBlZEdlYXIpXG59O1xuXG4vLyBFdmVudCBFbWl0dGVyLiAgQSBzaW5nbGUgaW5zdGFuY2Ugb2YgZXZlbnQgZW1pdHRlciBoYW5kbGVzIGFsbCBjdS1ldmVudHMgZXZlbnRzXG5jb25zdCBlbWl0dGVyOiBFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbi8vIHJlZ2lzdGVyIGZvciBhbiBldmVudCBncm91cFxuZnVuY3Rpb24gb24odG9waWM6IHN0cmluZywgY2FsbGJhY2s6IChpbmZvOiBhbnkpID0+IHZvaWQpOiBhbnkge1xuICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmVyc1t0b3BpY107XG4gIGlmIChsaXN0ZW5lcikge1xuICAgIGNvbnN0IGhhbmRsZSA9IGVtaXR0ZXIuYWRkTGlzdGVuZXIodG9waWMsIGxpc3RlbmVyLm9uY2UsIGNhbGxiYWNrKTtcbiAgICAvLyBTdGFydCB0aGUgbGlzdGVuZXIuICBUaGUgc3RhcnQoKSBtZXRob2Qgd2lsbCBoYW5kbGUgbXVsdGlwbGVcbiAgICAvLyBzdGFydHMuICBJbiBzb21lIGNhc2VzLCB0aGUgbGlzdGVuZXIgZG9lcyBuZWVkIGtpY2tzdGFydGluZ1xuICAgIC8vIGVhY2ggdGltZSwgaW4gb3RoZXIgY2FzZXMsIG5vdC5cbiAgICBsaXN0ZW5lci5zdGFydChlbWl0dGVyKTtcbiAgICByZXR1cm4gaGFuZGxlO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9mZihsaXN0ZW5lcjogYW55KTogdm9pZCB7XG4gIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xufVxuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcih0b3BpYzogc3RyaW5nLCBjYWxsYmFjazogKGluZm86IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICBvbih0b3BpYywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogYW55KTogdm9pZCB7XG4gIG9mZihsaXN0ZW5lcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaGFuZGxlc0Fubm91bmNlbWVudHMsXG4gIGhhbmRsZXNDaGF0LFxuICBoYW5kbGVzQ2hhcmFjdGVyLFxuICBoYW5kbGVzRW5lbXlUYXJnZXQsXG4gIGhhbmRsZXNGcmllbmRseVRhcmdldCxcbiAgaGFuZGxlc0NvbnRyb2xHYW1lLFxuICBoYW5kbGVzQ29udHJvbEdhbWVTY29yZSxcbiAgaGFuZGxlc0ludmVudG9yeSxcbiAgaGFuZGxlc0VxdWlwcGVkR2VhcixcbiAgb24sXG4gIG9mZixcbiAgYWRkTGlzdGVuZXIsXG4gIHJlbW92ZUxpc3RlbmVyXG59XG4iXSwic291cmNlUm9vdCI6Ii4uLyJ9
