/**
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _listeners;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _classesEventEmitter = require('./classes/EventEmitter');

var _classesEventEmitter2 = _interopRequireDefault(_classesEventEmitter);

var _classesHandlesAnnouncements = require('./classes/HandlesAnnouncements');

var _classesHandlesAnnouncements2 = _interopRequireDefault(_classesHandlesAnnouncements);

var _classesHandlesBeginChat = require('./classes/HandlesBeginChat');

var _classesHandlesBeginChat2 = _interopRequireDefault(_classesHandlesBeginChat);

var _classesHandlesChat = require('./classes/HandlesChat');

var _classesHandlesChat2 = _interopRequireDefault(_classesHandlesChat);

var _classesHandlesCharacter = require('./classes/HandlesCharacter');

var _classesHandlesCharacter2 = _interopRequireDefault(_classesHandlesCharacter);

var _classesHandlesEnemyTarget = require('./classes/HandlesEnemyTarget');

var _classesHandlesEnemyTarget2 = _interopRequireDefault(_classesHandlesEnemyTarget);

var _classesHandlesFriendlyTarget = require('./classes/HandlesFriendlyTarget');

var _classesHandlesFriendlyTarget2 = _interopRequireDefault(_classesHandlesFriendlyTarget);

var _classesHandlesControlGame = require('./classes/HandlesControlGame');

var _classesHandlesControlGame2 = _interopRequireDefault(_classesHandlesControlGame);

var _classesHandlesControlGameScore = require('./classes/HandlesControlGameScore');

var _classesHandlesControlGameScore2 = _interopRequireDefault(_classesHandlesControlGameScore);

var _classesHandlesInventory = require('./classes/HandlesInventory');

var _classesHandlesInventory2 = _interopRequireDefault(_classesHandlesInventory);

var _classesHandlesEquippedGear = require('./classes/HandlesEquippedGear');

var _classesHandlesEquippedGear2 = _interopRequireDefault(_classesHandlesEquippedGear);

var _classesHandlesConsole = require('./classes/HandlesConsole');

var _classesHandlesConsole2 = _interopRequireDefault(_classesHandlesConsole);

var _classesHandlesLogging = require('./classes/HandlesLogging');

var _classesHandlesLogging2 = _interopRequireDefault(_classesHandlesLogging);

var _listenersInit = require('./listeners/Init');

var _listenersInit2 = _interopRequireDefault(_listenersInit);

var _listenersAnnouncements = require('./listeners/Announcements');

var _listenersAnnouncements2 = _interopRequireDefault(_listenersAnnouncements);

var _listenersBeginChat = require('./listeners/BeginChat');

var _listenersBeginChat2 = _interopRequireDefault(_listenersBeginChat);

var _listenersChat = require('./listeners/Chat');

var _listenersChat2 = _interopRequireDefault(_listenersChat);

var _listenersCharacter = require('./listeners/Character');

var _listenersCharacter2 = _interopRequireDefault(_listenersCharacter);

var _listenersEnemyTarget = require('./listeners/EnemyTarget');

var _listenersEnemyTarget2 = _interopRequireDefault(_listenersEnemyTarget);

var _listenersFriendlyTarget = require('./listeners/FriendlyTarget');

var _listenersFriendlyTarget2 = _interopRequireDefault(_listenersFriendlyTarget);

var _listenersControlGame = require('./listeners/ControlGame');

var _listenersControlGame2 = _interopRequireDefault(_listenersControlGame);

var _listenersControlGameScore = require('./listeners/ControlGameScore');

var _listenersControlGameScore2 = _interopRequireDefault(_listenersControlGameScore);

var _listenersInventory = require('./listeners/Inventory');

var _listenersInventory2 = _interopRequireDefault(_listenersInventory);

var _listenersEquippedGear = require('./listeners/EquippedGear');

var _listenersEquippedGear2 = _interopRequireDefault(_listenersEquippedGear);

var _listenersConsole = require('./listeners/Console');

var _listenersConsole2 = _interopRequireDefault(_listenersConsole);

var _listenersLogging = require('./listeners/Logging');

var _listenersLogging2 = _interopRequireDefault(_listenersLogging);

// Handle* objects.  These define both the event name, and the Reflux action used
// to trigger the stores (TODO: This latter part is not working)
var handlesAnnouncements = new _classesHandlesAnnouncements2['default']();
var handlesBeginChat = new _classesHandlesBeginChat2['default']();
var handlesChat = new _classesHandlesChat2['default']();
var handlesCharacter = new _classesHandlesCharacter2['default']();
var handlesEnemyTarget = new _classesHandlesEnemyTarget2['default']();
var handlesFriendlyTarget = new _classesHandlesFriendlyTarget2['default']();
var handlesControlGame = new _classesHandlesControlGame2['default']();
var handlesControlGameScore = new _classesHandlesControlGameScore2['default']();
var handlesInventory = new _classesHandlesInventory2['default']();
var handlesEquippedGear = new _classesHandlesEquippedGear2['default']();
var handlesConsole = new _classesHandlesConsole2['default']();
var handlesLogging = new _classesHandlesLogging2['default']();
// Listeners
var listeners = (_listeners = {
    'init': new _listenersInit2['default']()
}, _defineProperty(_listeners, handlesAnnouncements.topic, new _listenersAnnouncements2['default'](handlesAnnouncements)), _defineProperty(_listeners, handlesBeginChat.topic, new _listenersBeginChat2['default'](handlesBeginChat)), _defineProperty(_listeners, handlesChat.topic, new _listenersChat2['default'](handlesChat)), _defineProperty(_listeners, handlesCharacter.topic, new _listenersCharacter2['default'](handlesCharacter)), _defineProperty(_listeners, handlesEnemyTarget.topic, new _listenersEnemyTarget2['default'](handlesEnemyTarget)), _defineProperty(_listeners, handlesFriendlyTarget.topic, new _listenersFriendlyTarget2['default'](handlesFriendlyTarget)), _defineProperty(_listeners, handlesControlGame.topic, new _listenersControlGame2['default'](handlesControlGame)), _defineProperty(_listeners, handlesControlGameScore.topic, new _listenersControlGameScore2['default'](handlesControlGameScore)), _defineProperty(_listeners, handlesInventory.topic, new _listenersInventory2['default'](handlesInventory)), _defineProperty(_listeners, handlesEquippedGear.topic, new _listenersEquippedGear2['default'](handlesEquippedGear)), _defineProperty(_listeners, handlesConsole.topic, new _listenersConsole2['default'](handlesConsole)), _defineProperty(_listeners, handlesLogging.topic, new _listenersLogging2['default'](handlesLogging)), _listeners);
// Event Emitter.  A single instance of event emitter handles all cu-events events
var emitter = new _classesEventEmitter2['default']();
// register for an event group
function on(topic, callback) {
    var listener = listeners[topic];
    if (listener) {
        var handle = emitter.addListener(topic, listener.once, callback);
        // Start the listener.  The start() method will handle multiple
        // starts.  In some cases, the listener does need kickstarting
        // each time, in other cases, not.
        listener.start(emitter);
        return handle;
    }
}
function off(listener) {
    emitter.removeListener(listener);
}
function addListener(topic, callback) {
    on(topic, callback);
}
function removeListener(listener) {
    off(listener);
}
exports['default'] = {
    handlesAnnouncements: handlesAnnouncements,
    handlesBeginChat: handlesBeginChat,
    handlesChat: handlesChat,
    handlesCharacter: handlesCharacter,
    handlesEnemyTarget: handlesEnemyTarget,
    handlesFriendlyTarget: handlesFriendlyTarget,
    handlesControlGame: handlesControlGame,
    handlesControlGameScore: handlesControlGameScore,
    handlesInventory: handlesInventory,
    handlesEquippedGear: handlesEquippedGear,
    handlesConsole: handlesConsole,
    handlesLogging: handlesLogging,
    on: on,
    off: off,
    addListener: addListener,
    removeListener: removeListener
};
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy9ldmVudHMudHMiXSwibmFtZXMiOlsib24iLCJvZmYiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OzttQ0FNeUIsd0JBQXdCOzs7OzJDQUVoQixnQ0FBZ0M7Ozs7dUNBQ3BDLDRCQUE0Qjs7OztrQ0FDakMsdUJBQXVCOzs7O3VDQUNsQiw0QkFBNEI7Ozs7eUNBQzFCLDhCQUE4Qjs7Ozs0Q0FDM0IsaUNBQWlDOzs7O3lDQUNwQyw4QkFBOEI7Ozs7OENBQ3pCLG1DQUFtQzs7Ozt1Q0FDMUMsNEJBQTRCOzs7OzBDQUN6QiwrQkFBK0I7Ozs7cUNBQ3BDLDBCQUEwQjs7OztxQ0FDMUIsMEJBQTBCOzs7OzZCQUU1QixrQkFBa0I7Ozs7c0NBQ1QsMkJBQTJCOzs7O2tDQUMvQix1QkFBdUI7Ozs7NkJBQzVCLGtCQUFrQjs7OztrQ0FDYix1QkFBdUI7Ozs7b0NBQ3JCLHlCQUF5Qjs7Ozt1Q0FDdEIsNEJBQTRCOzs7O29DQUMvQix5QkFBeUI7Ozs7eUNBQ3BCLDhCQUE4Qjs7OztrQ0FDckMsdUJBQXVCOzs7O3FDQUNwQiwwQkFBMEI7Ozs7Z0NBQy9CLHFCQUFxQjs7OztnQ0FDckIscUJBQXFCOzs7Ozs7QUFJakQsSUFBTSxvQkFBb0IsR0FBeUIsOENBQTBCLENBQUM7QUFDOUUsSUFBTSxnQkFBZ0IsR0FBcUIsMENBQXNCLENBQUM7QUFDbEUsSUFBTSxXQUFXLEdBQWdCLHFDQUFpQixDQUFDO0FBQ25ELElBQU0sZ0JBQWdCLEdBQXFCLDBDQUFzQixDQUFDO0FBQ2xFLElBQU0sa0JBQWtCLEdBQXVCLDRDQUF3QixDQUFDO0FBQ3hFLElBQU0scUJBQXFCLEdBQTBCLCtDQUEyQixDQUFDO0FBQ2pGLElBQU0sa0JBQWtCLEdBQXVCLDRDQUF3QixDQUFDO0FBQ3hFLElBQU0sdUJBQXVCLEdBQTRCLGlEQUE2QixDQUFDO0FBQ3ZGLElBQU0sZ0JBQWdCLEdBQXFCLDBDQUFzQixDQUFDO0FBQ2xFLElBQU0sbUJBQW1CLEdBQXdCLDZDQUF5QixDQUFDO0FBQzNFLElBQU0sY0FBYyxHQUFtQix3Q0FBb0IsQ0FBQztBQUM1RCxJQUFNLGNBQWMsR0FBbUIsd0NBQW9CLENBQUM7O0FBRzVELElBQU0sU0FBUztBQUNiLFVBQU0sRUFBRSxnQ0FBa0I7K0JBQ3pCLG9CQUFvQixDQUFDLEtBQUssRUFBRyx3Q0FBMEIsb0JBQW9CLENBQUMsK0JBQzVFLGdCQUFnQixDQUFDLEtBQUssRUFBRyxvQ0FBc0IsZ0JBQWdCLENBQUMsK0JBQ2hFLFdBQVcsQ0FBQyxLQUFLLEVBQUcsK0JBQWlCLFdBQVcsQ0FBQywrQkFDakQsZ0JBQWdCLENBQUMsS0FBSyxFQUFHLG9DQUFzQixnQkFBZ0IsQ0FBQywrQkFDaEUsa0JBQWtCLENBQUMsS0FBSyxFQUFHLHNDQUF3QixrQkFBa0IsQ0FBQywrQkFDdEUscUJBQXFCLENBQUMsS0FBSyxFQUFHLHlDQUEyQixxQkFBcUIsQ0FBQywrQkFDL0Usa0JBQWtCLENBQUMsS0FBSyxFQUFHLHNDQUF3QixrQkFBa0IsQ0FBQywrQkFDdEUsdUJBQXVCLENBQUMsS0FBSyxFQUFHLDJDQUE2Qix1QkFBdUIsQ0FBQywrQkFDckYsZ0JBQWdCLENBQUMsS0FBSyxFQUFHLG9DQUFzQixnQkFBZ0IsQ0FBQywrQkFDaEUsbUJBQW1CLENBQUMsS0FBSyxFQUFHLHVDQUF5QixtQkFBbUIsQ0FBQywrQkFDekUsY0FBYyxDQUFDLEtBQUssRUFBRyxrQ0FBb0IsY0FBYyxDQUFDLCtCQUMxRCxjQUFjLENBQUMsS0FBSyxFQUFHLGtDQUFvQixjQUFjLENBQUMsY0FDNUQsQ0FBQzs7QUFHRixJQUFNLE9BQU8sR0FBaUIsc0NBQWtCLENBQUM7O0FBR2pELFNBQUEsRUFBQSxDQUFZLEtBQWEsRUFBRSxRQUE2QixFQUFBO0FBQ3REQSxRQUFNQSxRQUFRQSxHQUFHQSxTQUFTQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtBQUNsQ0EsUUFBSUEsUUFBUUEsRUFBRUE7QUFDWkEsWUFBTUEsTUFBTUEsR0FBR0EsT0FBT0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsS0FBS0EsRUFBRUEsUUFBUUEsQ0FBQ0EsSUFBSUEsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Ozs7QUFJbkVBLGdCQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtBQUN4QkEsZUFBT0EsTUFBTUEsQ0FBQ0E7S0FDZkE7Q0FDRkE7QUFFRCxTQUFBLEdBQUEsQ0FBYSxRQUFhLEVBQUE7QUFDeEJDLFdBQU9BLENBQUNBLGNBQWNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO0NBQ2xDQTtBQUVELFNBQUEsV0FBQSxDQUFxQixLQUFhLEVBQUUsUUFBNkIsRUFBQTtBQUMvREMsTUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Q0FDckJBO0FBRUQsU0FBQSxjQUFBLENBQXdCLFFBQWEsRUFBQTtBQUNuQ0MsT0FBR0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Q0FDZkE7cUJBRWM7QUFDYix3QkFBb0IsRUFBcEIsb0JBQW9CO0FBQ3BCLG9CQUFnQixFQUFoQixnQkFBZ0I7QUFDaEIsZUFBVyxFQUFYLFdBQVc7QUFDWCxvQkFBZ0IsRUFBaEIsZ0JBQWdCO0FBQ2hCLHNCQUFrQixFQUFsQixrQkFBa0I7QUFDbEIseUJBQXFCLEVBQXJCLHFCQUFxQjtBQUNyQixzQkFBa0IsRUFBbEIsa0JBQWtCO0FBQ2xCLDJCQUF1QixFQUF2Qix1QkFBdUI7QUFDdkIsb0JBQWdCLEVBQWhCLGdCQUFnQjtBQUNoQix1QkFBbUIsRUFBbkIsbUJBQW1CO0FBQ25CLGtCQUFjLEVBQWQsY0FBYztBQUNkLGtCQUFjLEVBQWQsY0FBYztBQUNkLE1BQUUsRUFBRixFQUFFO0FBQ0YsT0FBRyxFQUFILEdBQUc7QUFDSCxlQUFXLEVBQVgsV0FBVztBQUNYLGtCQUFjLEVBQWQsY0FBYztDQUNmIiwiZmlsZSI6ImV2ZW50cy9ldmVudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICcuL2NsYXNzZXMvRXZlbnRFbWl0dGVyJztcblxuaW1wb3J0IEhhbmRsZXNBbm5vdW5jZW1lbnRzIGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzQW5ub3VuY2VtZW50cyc7XG5pbXBvcnQgSGFuZGxlc0JlZ2luQ2hhdCBmcm9tICcuL2NsYXNzZXMvSGFuZGxlc0JlZ2luQ2hhdCc7XG5pbXBvcnQgSGFuZGxlc0NoYXQgZnJvbSAnLi9jbGFzc2VzL0hhbmRsZXNDaGF0JztcbmltcG9ydCBIYW5kbGVzQ2hhcmFjdGVyIGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzQ2hhcmFjdGVyJztcbmltcG9ydCBIYW5kbGVzRW5lbXlUYXJnZXQgZnJvbSAnLi9jbGFzc2VzL0hhbmRsZXNFbmVteVRhcmdldCc7XG5pbXBvcnQgSGFuZGxlc0ZyaWVuZGx5VGFyZ2V0IGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzRnJpZW5kbHlUYXJnZXQnO1xuaW1wb3J0IEhhbmRsZXNDb250cm9sR2FtZSBmcm9tICcuL2NsYXNzZXMvSGFuZGxlc0NvbnRyb2xHYW1lJztcbmltcG9ydCBIYW5kbGVzQ29udHJvbEdhbWVTY29yZSBmcm9tICcuL2NsYXNzZXMvSGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUnO1xuaW1wb3J0IEhhbmRsZXNJbnZlbnRvcnkgZnJvbSAnLi9jbGFzc2VzL0hhbmRsZXNJbnZlbnRvcnknO1xuaW1wb3J0IEhhbmRsZXNFcXVpcHBlZEdlYXIgZnJvbSAnLi9jbGFzc2VzL0hhbmRsZXNFcXVpcHBlZEdlYXInO1xuaW1wb3J0IEhhbmRsZXNDb25zb2xlIGZyb20gJy4vY2xhc3Nlcy9IYW5kbGVzQ29uc29sZSc7XG5pbXBvcnQgSGFuZGxlc0xvZ2dpbmcgZnJvbSAnLi9jbGFzc2VzL0hhbmRsZXNMb2dnaW5nJztcblxuaW1wb3J0IEluaXRMaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVycy9Jbml0JztcbmltcG9ydCBBbm5vdW5jZW1lbnRzTGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvQW5ub3VuY2VtZW50cyc7XG5pbXBvcnQgQmVnaW5DaGF0TGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvQmVnaW5DaGF0JztcbmltcG9ydCBDaGF0TGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvQ2hhdCc7XG5pbXBvcnQgQ2hhcmFjdGVyTGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvQ2hhcmFjdGVyJztcbmltcG9ydCBFbmVteVRhcmdldExpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXJzL0VuZW15VGFyZ2V0JztcbmltcG9ydCBGcmllbmRseVRhcmdldExpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXJzL0ZyaWVuZGx5VGFyZ2V0JztcbmltcG9ydCBDb250cm9sR2FtZUxpc3RlbmVyIGZyb20gJy4vbGlzdGVuZXJzL0NvbnRyb2xHYW1lJztcbmltcG9ydCBDb250cm9sR2FtZVNjb3JlTGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvQ29udHJvbEdhbWVTY29yZSc7XG5pbXBvcnQgSW52ZW50b3J5TGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvSW52ZW50b3J5JztcbmltcG9ydCBFcXVpcHBlZEdlYXJMaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVycy9FcXVpcHBlZEdlYXInO1xuaW1wb3J0IENvbnNvbGVMaXN0ZW5lciBmcm9tICcuL2xpc3RlbmVycy9Db25zb2xlJztcbmltcG9ydCBMb2dnaW5nTGlzdGVuZXIgZnJvbSAnLi9saXN0ZW5lcnMvTG9nZ2luZyc7XG5cbi8vIEhhbmRsZSogb2JqZWN0cy4gIFRoZXNlIGRlZmluZSBib3RoIHRoZSBldmVudCBuYW1lLCBhbmQgdGhlIFJlZmx1eCBhY3Rpb24gdXNlZFxuLy8gdG8gdHJpZ2dlciB0aGUgc3RvcmVzIChUT0RPOiBUaGlzIGxhdHRlciBwYXJ0IGlzIG5vdCB3b3JraW5nKVxuY29uc3QgaGFuZGxlc0Fubm91bmNlbWVudHM6IEhhbmRsZXNBbm5vdW5jZW1lbnRzID0gbmV3IEhhbmRsZXNBbm5vdW5jZW1lbnRzKCk7XG5jb25zdCBoYW5kbGVzQmVnaW5DaGF0OiBIYW5kbGVzQmVnaW5DaGF0ID0gbmV3IEhhbmRsZXNCZWdpbkNoYXQoKTtcbmNvbnN0IGhhbmRsZXNDaGF0OiBIYW5kbGVzQ2hhdCA9IG5ldyBIYW5kbGVzQ2hhdCgpO1xuY29uc3QgaGFuZGxlc0NoYXJhY3RlcjogSGFuZGxlc0NoYXJhY3RlciA9IG5ldyBIYW5kbGVzQ2hhcmFjdGVyKCk7XG5jb25zdCBoYW5kbGVzRW5lbXlUYXJnZXQ6IEhhbmRsZXNFbmVteVRhcmdldCA9IG5ldyBIYW5kbGVzRW5lbXlUYXJnZXQoKTtcbmNvbnN0IGhhbmRsZXNGcmllbmRseVRhcmdldDogSGFuZGxlc0ZyaWVuZGx5VGFyZ2V0ID0gbmV3IEhhbmRsZXNGcmllbmRseVRhcmdldCgpO1xuY29uc3QgaGFuZGxlc0NvbnRyb2xHYW1lOiBIYW5kbGVzQ29udHJvbEdhbWUgPSBuZXcgSGFuZGxlc0NvbnRyb2xHYW1lKCk7XG5jb25zdCBoYW5kbGVzQ29udHJvbEdhbWVTY29yZTogSGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUgPSBuZXcgSGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUoKTtcbmNvbnN0IGhhbmRsZXNJbnZlbnRvcnk6IEhhbmRsZXNJbnZlbnRvcnkgPSBuZXcgSGFuZGxlc0ludmVudG9yeSgpO1xuY29uc3QgaGFuZGxlc0VxdWlwcGVkR2VhcjogSGFuZGxlc0VxdWlwcGVkR2VhciA9IG5ldyBIYW5kbGVzRXF1aXBwZWRHZWFyKCk7XG5jb25zdCBoYW5kbGVzQ29uc29sZTogSGFuZGxlc0NvbnNvbGUgPSBuZXcgSGFuZGxlc0NvbnNvbGUoKTtcbmNvbnN0IGhhbmRsZXNMb2dnaW5nOiBIYW5kbGVzTG9nZ2luZyA9IG5ldyBIYW5kbGVzTG9nZ2luZygpO1xuXG4vLyBMaXN0ZW5lcnNcbmNvbnN0IGxpc3RlbmVyczogYW55ID0ge1xuICAnaW5pdCc6IG5ldyBJbml0TGlzdGVuZXIoKSxcbiAgW2hhbmRsZXNBbm5vdW5jZW1lbnRzLnRvcGljXTogbmV3IEFubm91bmNlbWVudHNMaXN0ZW5lcihoYW5kbGVzQW5ub3VuY2VtZW50cyksXG4gIFtoYW5kbGVzQmVnaW5DaGF0LnRvcGljXTogbmV3IEJlZ2luQ2hhdExpc3RlbmVyKGhhbmRsZXNCZWdpbkNoYXQpLFxuICBbaGFuZGxlc0NoYXQudG9waWNdOiBuZXcgQ2hhdExpc3RlbmVyKGhhbmRsZXNDaGF0KSxcbiAgW2hhbmRsZXNDaGFyYWN0ZXIudG9waWNdOiBuZXcgQ2hhcmFjdGVyTGlzdGVuZXIoaGFuZGxlc0NoYXJhY3RlciksXG4gIFtoYW5kbGVzRW5lbXlUYXJnZXQudG9waWNdOiBuZXcgRW5lbXlUYXJnZXRMaXN0ZW5lcihoYW5kbGVzRW5lbXlUYXJnZXQpLFxuICBbaGFuZGxlc0ZyaWVuZGx5VGFyZ2V0LnRvcGljXTogbmV3IEZyaWVuZGx5VGFyZ2V0TGlzdGVuZXIoaGFuZGxlc0ZyaWVuZGx5VGFyZ2V0KSxcbiAgW2hhbmRsZXNDb250cm9sR2FtZS50b3BpY106IG5ldyBDb250cm9sR2FtZUxpc3RlbmVyKGhhbmRsZXNDb250cm9sR2FtZSksXG4gIFtoYW5kbGVzQ29udHJvbEdhbWVTY29yZS50b3BpY106IG5ldyBDb250cm9sR2FtZVNjb3JlTGlzdGVuZXIoaGFuZGxlc0NvbnRyb2xHYW1lU2NvcmUpLFxuICBbaGFuZGxlc0ludmVudG9yeS50b3BpY106IG5ldyBJbnZlbnRvcnlMaXN0ZW5lcihoYW5kbGVzSW52ZW50b3J5KSxcbiAgW2hhbmRsZXNFcXVpcHBlZEdlYXIudG9waWNdOiBuZXcgRXF1aXBwZWRHZWFyTGlzdGVuZXIoaGFuZGxlc0VxdWlwcGVkR2VhciksXG4gIFtoYW5kbGVzQ29uc29sZS50b3BpY106IG5ldyBDb25zb2xlTGlzdGVuZXIoaGFuZGxlc0NvbnNvbGUpLFxuICBbaGFuZGxlc0xvZ2dpbmcudG9waWNdOiBuZXcgTG9nZ2luZ0xpc3RlbmVyKGhhbmRsZXNMb2dnaW5nKSxcbn07XG5cbi8vIEV2ZW50IEVtaXR0ZXIuICBBIHNpbmdsZSBpbnN0YW5jZSBvZiBldmVudCBlbWl0dGVyIGhhbmRsZXMgYWxsIGN1LWV2ZW50cyBldmVudHNcbmNvbnN0IGVtaXR0ZXI6IEV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuLy8gcmVnaXN0ZXIgZm9yIGFuIGV2ZW50IGdyb3VwXG5mdW5jdGlvbiBvbih0b3BpYzogc3RyaW5nLCBjYWxsYmFjazogKGluZm86IGFueSkgPT4gdm9pZCk6IGFueSB7XG4gIGNvbnN0IGxpc3RlbmVyID0gbGlzdGVuZXJzW3RvcGljXTtcbiAgaWYgKGxpc3RlbmVyKSB7XG4gICAgY29uc3QgaGFuZGxlID0gZW1pdHRlci5hZGRMaXN0ZW5lcih0b3BpYywgbGlzdGVuZXIub25jZSwgY2FsbGJhY2spO1xuICAgIC8vIFN0YXJ0IHRoZSBsaXN0ZW5lci4gIFRoZSBzdGFydCgpIG1ldGhvZCB3aWxsIGhhbmRsZSBtdWx0aXBsZVxuICAgIC8vIHN0YXJ0cy4gIEluIHNvbWUgY2FzZXMsIHRoZSBsaXN0ZW5lciBkb2VzIG5lZWQga2lja3N0YXJ0aW5nXG4gICAgLy8gZWFjaCB0aW1lLCBpbiBvdGhlciBjYXNlcywgbm90LlxuICAgIGxpc3RlbmVyLnN0YXJ0KGVtaXR0ZXIpO1xuICAgIHJldHVybiBoYW5kbGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gb2ZmKGxpc3RlbmVyOiBhbnkpOiB2b2lkIHtcbiAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG59XG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKHRvcGljOiBzdHJpbmcsIGNhbGxiYWNrOiAoaW5mbzogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gIG9uKHRvcGljLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBhbnkpOiB2b2lkIHtcbiAgb2ZmKGxpc3RlbmVyKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBoYW5kbGVzQW5ub3VuY2VtZW50cyxcbiAgaGFuZGxlc0JlZ2luQ2hhdCxcbiAgaGFuZGxlc0NoYXQsXG4gIGhhbmRsZXNDaGFyYWN0ZXIsXG4gIGhhbmRsZXNFbmVteVRhcmdldCxcbiAgaGFuZGxlc0ZyaWVuZGx5VGFyZ2V0LFxuICBoYW5kbGVzQ29udHJvbEdhbWUsXG4gIGhhbmRsZXNDb250cm9sR2FtZVNjb3JlLFxuICBoYW5kbGVzSW52ZW50b3J5LFxuICBoYW5kbGVzRXF1aXBwZWRHZWFyLFxuICBoYW5kbGVzQ29uc29sZSxcbiAgaGFuZGxlc0xvZ2dpbmcsXG4gIG9uLFxuICBvZmYsXG4gIGFkZExpc3RlbmVyLFxuICByZW1vdmVMaXN0ZW5lclxufVxuIl0sInNvdXJjZVJvb3QiOiIuLi8ifQ==
